{"version":3,"sources":["views/app-views/pages/user-list/UserView.js","components/shared-components/AvatarStatus/index.js","views/app-views/pages/user-list/index.js"],"names":["UserView","Component","render","_data$company","data","visible","close","this","props","_jsxs","Drawer","width","placement","onClose","closable","children","className","_jsx","Avatar","size","src","img","name","username","Divider","dashed","UserOutlined","id","MobileOutlined","phone","MailOutlined","email","CompassOutlined","address","street","city","website","company","renderAvatar","type","text","AvatarStatus","suffix","subTitle","icon","shape","gap","onNameClick","onClick","UserList","userProfileVisible","setUserProfileVisible","useState","selectedUser","setSelectedUser","dispatch","useDispatch","history","useHistory","loading","users","useSelector","state","user","useEffect","fetchUsersRequest","tableColumns","title","dataIndex","_","record","sorter","compare","a","b","toLowerCase","localeCompare","_record$company","_record$company2","_record$company3","catchPhrase","bs","elm","Tooltip","Button","EyeOutlined","showUserProfile","userInfo","danger","DeleteOutlined","deleteUser","userId","message","success","content","duration","Card","bodyStyle","padding","Spin","indicator","LoadingOutlined","spin","spinning","Table","columns","dataSource","rowKey","onRow","push","handleRowClick","closeUserProfile"],"mappings":"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","file":"static/js/17.6a4b6bc1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Avatar, Drawer, Divider } from 'antd';\r\nimport { \r\n\tMobileOutlined, \r\n\tMailOutlined, \r\n\tUserOutlined, \r\n\tCompassOutlined,\r\n} from '@ant-design/icons';\r\n\r\nexport class UserView extends Component {\r\n\trender() {\r\n\t\tconst { data, visible, close} = this.props;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\twidth={300}\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tonClose={close}\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t<Avatar size={80} src={data?.img} />\r\n\t\t\t\t\t<h3 className=\"mt-2 mb-0\">{data?.name}</h3>\r\n\t\t\t\t\t<span className=\"text-muted\">{data?.username}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider dashed />\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<h6 className=\"text-muted text-uppercase mb-3\">Account details</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<UserOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">id: {data?.id}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<h6 className=\"text-muted text-uppercase mb-3\">CONTACT</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<MobileOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">{data?.phone}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<MailOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">{data?.email? data?.email: '-'}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<CompassOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">{data?.address.street} {data?.address.city}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<h6 className=\"text-muted text-uppercase mb-3\">Social profiles</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<CompassOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">{data?.website}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<CompassOutlined />\r\n\t\t\t\t\t\t<span className=\"ml-3 text-dark\">{data?.company?.name}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</Drawer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default UserView\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Avatar } from 'antd';\r\n\r\nconst renderAvatar = props => {\r\n\treturn <Avatar {...props} className={`ant-avatar-${props.type}`}>{props.text}</Avatar>;\r\n}\r\n\r\nexport const AvatarStatus = props => {\r\n\tconst { name, suffix, subTitle, id, type, src, icon, size, shape, gap, text, onNameClick } = props\r\n\treturn (\r\n\t\t<div className=\"avatar-status d-flex align-items-center\">\r\n\t\t\t{renderAvatar({icon, src, type, size, shape, gap, text })}\r\n\t\t\t<div className=\"ml-2\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tonNameClick ? \r\n\t\t\t\t\t\t<div onClick={() => onNameClick({name, subTitle, src, id})} className=\"avatar-status-name clickable\">{name}</div> \r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className=\"avatar-status-name\">{name}</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span>{suffix}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text-muted avatar-status-subtitle\">{subTitle}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAvatarStatus.propTypes = {\r\n\tname: PropTypes.string,\r\n\tsrc: PropTypes.string,\r\n\ttype: PropTypes.string,\r\n\tonNameClick: PropTypes.func\r\n}\r\n\r\n\r\nexport default AvatarStatus;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Card, Table, Tooltip, message, Button, Spin } from \"antd\";\r\nimport {\r\n  EyeOutlined,\r\n  DeleteOutlined,\r\n  LoadingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserView from \"./UserView\";\r\nimport AvatarStatus from \"components/shared-components/AvatarStatus\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchUsersRequest } from \"../../../../redux/actions/Users\";\r\n\r\nconst UserList = () => {\r\n  const [userProfileVisible, setUserProfileVisible] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const { loading, users } = useSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsersRequest());\r\n  }, [dispatch]);\r\n\r\n  const deleteUser = (userId) => {\r\n    // setUsers(users.filter(item => item.id !== userId));\r\n    message.success({ content: `Deleted user ${userId}`, duration: 2 });\r\n  };\r\n\r\n  const showUserProfile = (userInfo) => {\r\n    setUserProfileVisible(true);\r\n    setSelectedUser(userInfo);\r\n  };\r\n\r\n  const closeUserProfile = () => {\r\n    setUserProfileVisible(false);\r\n    setSelectedUser(null);\r\n  };\r\n\r\n  const handleRowClick = (record) => {\r\n    history.push(`/app/clients/list/${record.id}`);\r\n  };\r\n\r\n  const tableColumns = [\r\n    {\r\n      title: \"Клиент\",\r\n      dataIndex: \"name\",\r\n      width: \"150px\",\r\n      render: (_, record) => (\r\n        <div className=\"d-flex\">\r\n          <AvatarStatus\r\n            src={record.img}\r\n            name={`${record.name} ${record.username}`}\r\n            subTitle={record.email}\r\n          />\r\n        </div>\r\n      ),\r\n      sorter: {\r\n        compare: (a, b) => {\r\n          a = a.name.toLowerCase();\r\n          b = b.name.toLowerCase();\r\n          return a > b ? -1 : b > a ? 1 : 0;\r\n        },\r\n      },\r\n    },\r\n    {\r\n      title: \"Телефон\",\r\n      dataIndex: \"phone\",\r\n      width: \"150px\",\r\n      sorter: {\r\n        compare: (a, b) => a.phone.localeCompare(b.phone),\r\n      },\r\n    },\r\n    {\r\n      title: \"Вебсайт\",\r\n      dataIndex: \"website\",\r\n      sorter: {\r\n        compare: (a, b) => {\r\n          a = a.website.toLowerCase();\r\n          b = b.website.toLowerCase();\r\n          return a > b ? -1 : b > a ? 1 : 0;\r\n        },\r\n      },\r\n    },\r\n    {\r\n      title: \"Компания\",\r\n      dataIndex: \"company\",\r\n      width: \"180px\",\r\n      render: (_, record) => (\r\n        <span>\r\n          {record.company?.name} <br /> {record.company?.catchPhrase}{\" \"}\r\n          {record.company?.bs}\r\n        </span>\r\n      ),\r\n      sorter: {\r\n        compare: (a, b) => {\r\n          a = a.name.toLowerCase();\r\n          b = b.name.toLowerCase();\r\n          return a > b ? -1 : b > a ? 1 : 0;\r\n        },\r\n      },\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"actions\",\r\n      render: (_, elm) => (\r\n        <div className=\"text-right\">\r\n          <Tooltip title=\"View\">\r\n            <Button\r\n              type=\"primary\"\r\n              className=\"mr-2\"\r\n              icon={<EyeOutlined />}\r\n              onClick={() => showUserProfile(elm)}\r\n              size=\"small\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Delete\">\r\n            <Button\r\n              danger\r\n              icon={<DeleteOutlined />}\r\n              onClick={() => deleteUser(elm.id)}\r\n              size=\"small\"\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Card bodyStyle={{ padding: \"0px\" }}>\r\n      <Spin\r\n        indicator={<LoadingOutlined spin />}\r\n        size=\"large\"\r\n        spinning={loading}\r\n      >\r\n        <Table\r\n          columns={tableColumns}\r\n          dataSource={users}\r\n          rowKey=\"id\"\r\n          onRow={(record) => ({\r\n            onClick: () => handleRowClick(record),\r\n          })}\r\n        />\r\n        <UserView\r\n          data={selectedUser}\r\n          visible={userProfileVisible}\r\n          close={closeUserProfile}\r\n        />\r\n      </Spin>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"sourceRoot":""}