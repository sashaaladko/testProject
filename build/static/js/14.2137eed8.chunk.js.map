{"version":3,"sources":["views/app-views/edit-user/index.js"],"names":["EditProfile","avatarUrl","setAvatarUrl","useState","id","useParams","dispatch","useDispatch","history","useHistory","form","Form","useForm","users","useSelector","state","user","userData","setUserData","loading","setLoading","useEffect","fetchUsersRequest","find","parseInt","_user$address","_user$address2","_user$company","setFieldsValue","name","email","username","phone","website","city","address","street","company","_jsxs","Spin","indicator","_jsx","LoadingOutlined","spin","size","spinning","children","Flex","alignItems","mobileFlex","className","Avatar","src","icon","UserOutlined","Upload","onChange","info","key","file","status","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","originFileObj","imageUrl","message","success","content","duration","showUploadList","action","Button","type","onClick","onRemoveAvatar","layout","onFinish","values","setTimeout","console","log","push","onFinishFailed","errorInfo","Row","Col","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","Input","htmlType"],"mappings":"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","file":"static/js/14.2137eed8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Avatar, Button, Input, Row, Col, message, Upload, Spin } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\nimport Flex from 'components/shared-components/Flex';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchUsersRequest } from \"../../../redux/actions/Users\";\nimport {\n  LoadingOutlined,\n} from \"@ant-design/icons\";\n\nconst EditProfile = () => {\n  const [avatarUrl, setAvatarUrl] = useState('/img/avatars/thumb-6.jpg');\n  const { id } = useParams();\n  const dispatch = useDispatch()\n  const history = useHistory();\n  const [form] = Form.useForm();\n  const users = useSelector(state => state.user.users);\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const avatarEndpoint = 'https://www.mocky.io/v2/5cc8019d300000980a055e76';\n\n  useEffect(() => {\n    dispatch(fetchUsersRequest());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const user = users.find(user => user.id === parseInt(id));\n    if (user) {\n      setUserData(user);\n      form.setFieldsValue({\n        name: user.name,\n        email: user.email,\n        username: user.username,\n        phone: user.phone,\n        website: user.website,\n        city: user.address?.city,\n        street: user.address?.street,\n        company: user.company?.name,\n      });\n    }\n  }, [id, users, form]);\n\n  const getBase64 = (img, callback) => {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result));\n    reader.readAsDataURL(img);\n  };\n\n  const onFinish = values => {\n    const key = 'updatable';\n    setLoading(true);\n    message.loading({ content: 'Updating...', key });\n    setTimeout(() => {\n      setLoading(false);\n      console.log(values)\n      message.success({ content: 'Done!', key, duration: 2 });\n      history.push('/app/clients/list');\n    }, 1000);\n\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const onUploadAvatar = info => {\n    const key = 'updatable';\n    if (info.file.status === 'uploading') {\n      message.loading({ content: 'Uploading...', key, duration: 1000 });\n      return;\n    }\n    if (info.file.status === 'done') {\n      getBase64(info.file.originFileObj, imageUrl => setAvatarUrl(imageUrl));\n      message.success({ content: 'Uploaded!', key, duration: 1.5 });\n    }\n  };\n\n  const onRemoveAvatar = () => {\n    setAvatarUrl('');\n  };\n\n  return (\n    <Spin\n    indicator={<LoadingOutlined spin />}\n    size=\"large\"\n    spinning={loading}\n  >\n      <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\n        <Avatar size={90} src={avatarUrl} icon={<UserOutlined />} />\n        <div className=\"ml-md-3 mt-md-0 mt-3\">\n          <Upload onChange={onUploadAvatar} showUploadList={false} action={avatarEndpoint}>\n            <Button type=\"primary\">Change Avatar</Button>\n          </Upload>\n          <Button className=\"ml-2\" onClick={onRemoveAvatar}>\n            Remove\n          </Button>\n        </div>\n      </Flex>\n      <div className=\"mt-4\">\n        <Form\n          form={form}\n          name=\"basicInformation\"\n          layout=\"vertical\"\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={16}>\n              <Row gutter={ROW_GUTTER}>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item\n                    label=\"Name\"\n                    name=\"name\"\n                    rules={[\n                      {\n                        required: true,\n                        message: 'Please input your name!',\n                      },\n                    ]}\n                  >\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item\n                    label=\"Username\"\n                    name=\"username\"\n                    rules={[\n                      {\n                        required: true,\n                        message: 'Please input your username!',\n                      },\n                    ]}\n                  >\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item\n                    label=\"Email\"\n                    name=\"email\"\n                    rules={[\n                      {\n                        required: true,\n                        type: 'email',\n                        message: 'Please enter a valid email!',\n                      },\n                    ]}\n                  >\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item label=\"Phone Number\" name=\"phone\">\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item label=\"Website\" name=\"website\">\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={24}>\n                  <Form.Item label=\"City\" name=\"city\">\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item label=\"Street\" name=\"street\">\n                    <Input />\n                  </Form.Item>\n                </Col>\n                <Col xs={24} sm={24} md={12}>\n                  <Form.Item label=\"Company\" name=\"company\">\n                    <Input />\n                  </Form.Item>\n                </Col>\n              </Row>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Save Change\n              </Button>\n            </Col>\n          </Row>\n        </Form>\n      </div>\n    </Spin>\n  );\n};\n\nexport default EditProfile;"],"sourceRoot":""}